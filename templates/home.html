<!DOCTYPE html>
<html lang="en">

<head>
	<title> VR Bridge </title>
	<link rel="shortcut icon" href="{{url_for('static', filename='favico/wormhole.png')}}" type="image/x-icon" title="Wormhole icons created by Freepik - Flaticon" />
	
	<style>
	/* html, body {
		align-items: center;
		background-color: black;
		display: flex;
		height: 100%;
		justify-content: center;
		margin: 0;
	} */

	.loader {
		width: 60px;
	}
	
	.loader-wheel {
		animation: spin 1s infinite linear;
		border: 2px solid rgba(30, 30, 30, 0.5);
		border-left: 4px solid #fff;
		border-radius: 50%;
		height: 50px;
		margin-bottom: 10px;
		width: 50px;
	}
	
	.loader-text {
		color: #fff;
		font-family: arial, sans-serif;
	}
	
	.loader-text:after {
		content: 'Loading';
		animation: load 2s linear infinite;
	}
	
	@keyframes spin {
		0% {
			transform: rotate(0deg);
		}
		100% {
			transform: rotate(360deg);
		}
	}
	
	@keyframes load {
		0% {
			content: 'Loading';
		}
		33% {
			content: 'Loading.';
		}
		67% {
			content: 'Loading..';
		}
		100% {
			content: 'Loading...';
		}
	}

</style>
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
<link href="{{url_for('static',filename='styles/style.css')}}"  rel="stylesheet">
<link href="{{url_for('static',filename='styles/text.css')}}"  rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</head>
<script>
	document.addEventListener("click",e => {
	let tar = e.target;
	if (tar.name == "toggle")
		tar.removeAttribute("class");
});
</script>
<script type="text/javascript" src="https://unpkg.com/web3@1.2.8/dist/web3.min.js"></script>
<script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
<script src="https://unpkg.com/@solana/spl-token@0.1.8/lib/index.iife.js"></script>
<script src="{{url_for('static', filename='scripts/setup.js')}}"></script>
<script src="{{url_for('static', filename='scripts/mint.js')}}"></script>
<script src="{{url_for('static', filename='scripts/transaction.js')}}"></script>
<script src="{{url_for('static', filename='scripts/burn.js')}}"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/@metaplex/js@4.12.0/lib/index.browser.esm.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/@solana/spl-token@0.1.8/module.flow.js"></script>  -->
<!-- <script src="https://cdn.jsdelivr.net/npm/@solana/spl-token@0.1.8/lib/index.cjs.min.js"></script> -->
<!-- <script src="{{url_for('static', filename='scripts/metaplex-program-library/token-metadata/js/src/mpl-token-metadata.ts')}}"></script> -->

<style>
	button {
		font-size: 150%;
	}
	
	.btn{
		background-color: #0492C2;
		text-align: center;
		font-size: 12;
		margin-top:2vh;
		color: white;
	}
	.t{
		text-align: center;
		font-size: 2vh;
		color: whitesmoke;
		margin:2vh
	}
	#viewButton{
		margin-top: -1vh;
	}
</style>

<body onload="setup();" >
	<div style="background-color:black;">
	<h1> Highway to Hell </h1>
	<div class="content">
	<div class="content__container">
	<p class="content__container__text">
	  Bridge
	</p>

	<ul class="content__container__list">
	  <li class="content__container__list__item">  Solana</li>
	  <li class="content__container__list__item">   AVAX</li>
	  <li class="content__container__list__item">  to</li>
	  <li class="content__container__list__item">  Ethereum</li>
	</ul>
	</div>
	</div>
	<div align="center" style="position:  absolute;top:25%; left:25%; align-content: center;">

	<div class="dropdown show">
	  <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background-color: #0492C2; width:25vw">
	    Choose Bridging Tokens
	  </a>

	  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
	    <a class="dropdown-item" href="#"><button style="background-color: none;" onclick="showSolanaWallets()">Solana → Ethereum</button></a>
	    <a class="dropdown-item" href="#"><button style="background-color: none;" onclick="showAVAXWallets()">AVAX → Ethereum</button></a>
	  </div>
	</div>
	<div style="margin-top:1vh">
	<div id="avax-wallets" style="display: none;">
		<button class="btn" onclick="connectMetamask()">Connect MetaMask</button> &nbsp;  &nbsp;  &nbsp;
	</div>
	<div id="solana-wallets" style="display: none;">
		<div style="display: flex; margin-left: 15vw;">
		<button class="btn" onclick="connectPhantom()">Connect Phantom</button> <h3 class="t"> OR </h3>
		<button class="btn" onclick="connectPhantom()">Connect Solflare</button></div>
		<br> <h3 class="t" style="margin: -1vh;"> AND </h3>
		<button class="btn" onclick="connectMetamask()">Connect MetaMask</button>
	</div>
	</div>
		 <br><br>
		<div class="loader" id="loadingwheel" hidden>
			<div class="loader-wheel"></div>
			<div class="loader-text"></div>
		</div>
		<br><br>
		<font class="t" style="font-size: 2vh;">Select token:</font> &nbsp;
		<select type="url" id="oldToken" onchange="updateImage()" disabled></select> &nbsp; &nbsp;
		<button class="btn" onclick="viewToken()" id="viewButton" disabled>View Token Details</button>
		<div style="display: flex;margin: auto; margin-left:21vw; margin-top:3vh">
		<!-- <button type=""  disabled> -->
			<input onclick="bridgeToken()"  id="bridgeButton" class="pristine" type="checkbox" name="toggle" value="on"> 
			<h3 style="margin-left:5px; padding-bottom: 10px;color: whitesmoke;">Bridge</h3>
		<!-- </button> -->
		</div>
		<div>
			<img src="" style="width: 200px;height: 200px;" id="tokenImg" hidden>
		</div>
		<br><br>
		<font color="white">Enter your Ethereum Token ID:</font> &nbsp;
		<input type="url" size=50 height="50" id="ethTokenID"></input> &nbsp;
		<button style="background-color: #0492C2;text-align: center; color:white; font-size:20px" onclick="viewEthToken();">View Details</button>
		<br><br>
		<!-- <br><br>
		<font color="white">Enter your previous Token URI:</font> &nbsp;
		<input type="url" size=50 height="50" id="inputURI"></input> &nbsp;
		<button onclick="mintH2H()">Mint!</button>
		<br><br> -->
		<div class="toast" id="toast-card" >
		  <div class="toast-header me-auto">
		    Bridging successful!
		    <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
		  </div>
		  <div class="toast-body" id="toast-text">
		    
		  </div>
		</div>
	</div>
	</div>
</body>

</html>